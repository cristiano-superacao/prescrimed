# ===================================
# Prescrimed - Configuração de Ambiente
# ===================================
# Copie este arquivo para .env e preencha os valores reais

# --- Ambiente ---
# Dica: use development localmente e production no Railway
NODE_ENV=development

# --- Servidor ---
PORT=8000
TZ=America/Sao_Paulo

# --- Banco de Dados (PostgreSQL) ---
# OBRIGATÓRIO em produção. Em desenvolvimento, você pode usar Postgres local.
# Railway (público): adicione `?sslmode=require` se necessário.
DATABASE_URL=postgresql://usuario:senha@host:5432/database?sslmode=require

# --- Autenticação JWT ---
# OBRIGATÓRIO: gere secrets seguros com: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=seu-secret-jwt-aqui-minimo-32-caracteres
JWT_REFRESH_SECRET=seu-refresh-secret-aqui-minimo-32-caracteres
SESSION_TIMEOUT=8h

# --- CORS / Frontend ---
# URLs permitidas para fazer requisições à API
FRONTEND_URL=https://prescrimed.netlify.app
URL_FRONTEND=https://prescrimed.netlify.app
CORS_ORIGIN=https://prescrimed.netlify.app
ALLOWED_ORIGINS=https://prescrimed.netlify.app,https://precrimed.netlify.app,https://prescrimer.netlify.app,http://localhost:8000,http://127.0.0.1:8000,http://localhost:5173,http://127.0.0.1:5173

# --- Seed / Deploy Inicial (TEMPORÁRIO) ---
# Use apenas no PRIMEIRO deploy para criar tabelas e dados demo.
# REMOVA após primeiro deploy bem-sucedido.
# FORCE_SYNC=true
# SEED_MINIMAL=true
# SEED_SLUG=empresa-teste
# SEED_PASSWORD=<defina_uma_senha_forte>

# --- Opcional: Fail-Fast ---
# Se true, derruba o servidor se DATABASE_URL não estiver configurada
# Recomendado em produção para garantir persistência no PostgreSQL da nuvem
# FAIL_FAST_DB=true

# (Legado removido) SQLite/MySQL não são suportados neste projeto.