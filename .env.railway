# Configure estas variáveis no Railway Dashboard do serviço Backend

# Porta - definida automaticamente pelo Railway (não precisa setar manualmente)
# PORT=${{PORT}}

# Banco de Dados (PostgreSQL)
# Se você anexar o plugin PostgreSQL no Railway, a variável DATABASE_URL será criada automaticamente.
# Exemplo: postgres://user:password@host:port/database
DATABASE_URL=${{DATABASE_URL}}

# Opções de sincronização (produção)
# ATENÇÃO: use FORCE_SYNC=true apenas no primeiro deploy para criar as tabelas; depois remova.
# FORCE_SYNC=true

# Segurança (gere um segredo forte)
# Gere com: openssl rand -base64 32
JWT_SECRET=${{JWT_SECRET}}
JWT_REFRESH_SECRET=${{JWT_REFRESH_SECRET}}
SESSION_TIMEOUT=8h

# CORS / Frontend
# URL pública do frontend (importante para CORS)
FRONTEND_URL=https://prescrimed.up.railway.app
CORS_ORIGIN=https://prescrimed.up.railway.app

# Origens extras separadas por vírgula (opcional)
ALLOWED_ORIGINS=https://prescrimed.up.railway.app,https://prescrimed-production.up.railway.app

# Ambiente de execução
NODE_ENV=production

# Dica: O domínio público do Railway fica disponível em RAILWAY_PUBLIC_DOMAIN
# O backend já considera automaticamente `https://${RAILWAY_PUBLIC_DOMAIN}` no CORS quando presente.

# Ambiente de produção Railway (PostgreSQL)
NODE_ENV=production

# Banco de Dados (Railway PostgreSQL)
# A variável DATABASE_URL é criada automaticamente ao adicionar o plugin PostgreSQL no Railway
DATABASE_URL=postgresql://usuario:senha@host:5432/database
# Exemplo Railway: postgresql://postgres:senha@postgres.railway.internal:5432/railway

# JWT (gere segredos fortes para produção)
JWT_SECRET=defina_um_segredo_forte
JWT_REFRESH_SECRET=defina_um_refresh_segredo
SESSION_TIMEOUT=8h

# CORS / Frontend
FRONTEND_URL=https://prescrimed.up.railway.app
CORS_ORIGIN=https://prescrimed.up.railway.app
ALLOWED_ORIGINS=https://prescrimed.up.railway.app,https://prescrimed-production.up.railway.app

# Outras variáveis conforme necessário
# FORCE_SYNC=true  # Use apenas no primeiro deploy para criar as tabelas
